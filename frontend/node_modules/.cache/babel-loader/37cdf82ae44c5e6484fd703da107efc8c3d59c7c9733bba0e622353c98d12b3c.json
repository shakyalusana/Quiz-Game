{"ast":null,"code":"var _jsxFileName = \"E:\\\\New folder\\\\Quiz-Management-system\\\\Quiz-Management-System\\\\frontend\\\\src\\\\pages\\\\player\\\\Quiz.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { Link, useLocation, useNavigate, useParams, useSearchParams } from 'react-router-dom';\nimport axios from '../../utils/axiosConfig';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { toast } from 'react-toastify';\n\n// ✅ Internal Navbar Component (with disable logic)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Navbar({\n  disableNav\n}) {\n  _s();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  const handleNavClick = (e, to) => {\n    if (disableNav) {\n      e.preventDefault();\n      alert('You cannot navigate away during the quiz.');\n    } else {\n      navigate(to);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"bg-purple-700 text-white shadow-md\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? '/admin/dashboard' : '/player/dashboard',\n            onClick: e => handleNavClick(e, (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? '/admin/dashboard' : '/player/dashboard'),\n            className: \"text-xl font-bold\",\n            children: \"Quiz Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-6\",\n          children: [user.role === 'player' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/player/dashboard\",\n              onClick: e => handleNavClick(e, '/player/dashboard'),\n              className: \"hover:text-purple-200\",\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/player/history\",\n              onClick: e => handleNavClick(e, '/player/history'),\n              className: \"hover:text-purple-200\",\n              children: \"My History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/dashboard\",\n              onClick: e => handleNavClick(e, '/admin/dashboard'),\n              className: \"hover:text-purple-200\",\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/questions\",\n              onClick: e => handleNavClick(e, '/admin/questions'),\n              className: \"hover:text-purple-200\",\n              children: \"Questions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/leaderboard\",\n              onClick: e => handleNavClick(e, '/admin/leaderboard'),\n              className: \"hover:text-purple-200\",\n              children: \"Leaderboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/admin/players\",\n              onClick: e => handleNavClick(e, '/admin/players'),\n              className: \"hover:text-purple-200\",\n              children: \"Players\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              className: \"bg-purple-800 hover:bg-purple-900 text-white text-sm py-1 px-3 rounded\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"owExUWFylk0vVlQUKU4QcBpCg7Y=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Navbar;\nfunction Quiz() {\n  _s2();\n  var _questions$, _questions$$category;\n  const {\n    categoryId\n  } = useParams();\n  const [searchParams] = useSearchParams();\n  const difficulty = searchParams.get('difficulty') || 'medium';\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const mounted = useRef(true);\n  const [questions, setQuestions] = useState([]);\n  const [userAnswers, setUserAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [quizSubmitted, setQuizSubmitted] = useState(false);\n  const [score, setScore] = useState(0);\n  const [stats, setStats] = useState({\n    easy: {\n      correct: 0,\n      total: 0\n    },\n    medium: {\n      correct: 0,\n      total: 0\n    },\n    hard: {\n      correct: 0,\n      total: 0\n    }\n  });\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    if (!categoryId || !user) {\n      navigate('/player/dashboard');\n      return;\n    }\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.post(`/api/quiz/questions`, {\n          categoryId,\n          difficulty,\n          count: 10\n        });\n        if (!mounted.current) return;\n        if (!response.data || response.data.length === 0) {\n          throw new Error('No questions available for this category and difficulty');\n        }\n        setQuestions(response.data);\n        setError('');\n      } catch (err) {\n        var _err$response, _err$response$data, _err$response2;\n        if (!mounted.current) return;\n        const message = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message;\n        setError(message);\n        toast.error(message);\n        if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n          navigate('/login');\n        } else {\n          navigate('/player/dashboard');\n        }\n      } finally {\n        if (mounted.current) {\n          setLoading(false);\n        }\n      }\n    };\n    fetchData();\n  }, [categoryId, difficulty, navigate, user]);\n  const calculatePoints = difficulty => {\n    switch (difficulty) {\n      case 'easy':\n        return 1;\n      case 'medium':\n        return 2;\n      case 'hard':\n        return 3;\n      default:\n        return 1;\n    }\n  };\n  const handleAnswer = (questionId, selectedOption) => {\n    setUserAnswers(prev => ({\n      ...prev,\n      [questionId]: selectedOption\n    }));\n  };\n  const handleSubmit = async () => {\n    // Check if all questions are answered\n    const unansweredCount = questions.length - Object.keys(userAnswers).length;\n    if (unansweredCount > 0) {\n      toast.warning(`Please answer all questions. ${unansweredCount} remaining.`);\n      return;\n    }\n    try {\n      // Calculate score and stats\n      let totalScore = 0;\n      const newStats = {\n        easy: {\n          correct: 0,\n          total: 0\n        },\n        medium: {\n          correct: 0,\n          total: 0\n        },\n        hard: {\n          correct: 0,\n          total: 0\n        }\n      };\n      const formattedAnswers = questions.map(question => {\n        const isCorrect = userAnswers[question._id] === question.correctOption;\n        const points = isCorrect ? calculatePoints(question.difficulty) : 0;\n        totalScore += points;\n\n        // Update stats\n        newStats[question.difficulty].total += 1;\n        if (isCorrect) {\n          newStats[question.difficulty].correct += 1;\n        }\n        return {\n          questionId: question._id,\n          selectedOption: userAnswers[question._id],\n          isCorrect,\n          points,\n          difficulty: question.difficulty\n        };\n      });\n\n      // Submit to backend\n      await axios.post('/api/quiz/submit', {\n        categoryId,\n        answers: formattedAnswers,\n        score: totalScore,\n        stats: newStats\n      });\n      setScore(totalScore);\n      setStats(newStats);\n      setQuizSubmitted(true);\n      toast.success('Quiz submitted successfully!');\n    } catch (error) {\n      toast.error('Failed to submit quiz. Please try again.');\n      console.error(error);\n    }\n  };\n  const getDifficultyColor = difficulty => {\n    switch (difficulty) {\n      case 'easy':\n        return 'text-green-600';\n      case 'medium':\n        return 'text-yellow-600';\n      case 'hard':\n        return 'text-red-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n  const getOptionStyle = (question, optionValue) => {\n    if (!quizSubmitted) {\n      return userAnswers[question._id] === optionValue ? 'bg-blue-100 border-blue-500' : 'hover:bg-gray-50';\n    }\n    if (question.correctOption === optionValue) {\n      return 'bg-green-100 border-green-500';\n    }\n    if (userAnswers[question._id] === optionValue) {\n      return question.correctOption === optionValue ? 'bg-green-100 border-green-500' : 'bg-red-100 border-red-500';\n    }\n    return '';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        disableNav: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: \"Loading questions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        disableNav: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      disableNav: !quizSubmitted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-800\",\n            children: [\"Quiz - \", (_questions$ = questions[0]) === null || _questions$ === void 0 ? void 0 : (_questions$$category = _questions$.category) === null || _questions$$category === void 0 ? void 0 : _questions$$category.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `font-semibold ${getDifficultyColor(difficulty)}`,\n            children: difficulty.charAt(0).toUpperCase() + difficulty.slice(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), quizSubmitted && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold mb-2\",\n            children: \"Quiz Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg\",\n            children: [\"Total Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: Object.entries(stats).map(([diff, stat]) => /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `${getDifficultyColor(diff)}`,\n              children: [diff.charAt(0).toUpperCase() + diff.slice(1), \":\", ' ', stat.correct, \"/\", stat.total, \" correct\"]\n            }, diff, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: questions.map((question, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border rounded-lg hover:shadow-sm transition-shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-medium mb-4\",\n              children: [index + 1, \". \", question.text]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: question.options.map((option, optionIndex) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => !quizSubmitted && handleAnswer(question._id, option),\n                className: `w-full text-left p-3 border rounded-md transition-colors ${getOptionStyle(question, option)}`,\n                disabled: quizSubmitted,\n                children: option\n              }, optionIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, question._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), !quizSubmitted && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\",\n            children: \"Submit Quiz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this), quizSubmitted && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/player/dashboard'),\n            className: \"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors\",\n            children: \"Back to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 5\n  }, this);\n}\n_s2(Quiz, \"9Y2A9+LhRLXRiehu55/cB0kfi14=\", false, function () {\n  return [useParams, useSearchParams, useNavigate, useAuth];\n});\n_c2 = Quiz;\nexport default Quiz;\nvar _c, _c2;\n$RefreshReg$(_c, \"Navbar\");\n$RefreshReg$(_c2, \"Quiz\");","map":{"version":3,"names":["useState","useEffect","useRef","Link","useLocation","useNavigate","useParams","useSearchParams","axios","useAuth","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","disableNav","_s","user","logout","navigate","handleLogout","handleNavClick","e","to","preventDefault","alert","className","children","role","onClick","fileName","_jsxFileName","lineNumber","columnNumber","name","_c","Quiz","_s2","_questions$","_questions$$category","categoryId","searchParams","difficulty","get","mounted","questions","setQuestions","userAnswers","setUserAnswers","loading","setLoading","error","setError","quizSubmitted","setQuizSubmitted","score","setScore","stats","setStats","easy","correct","total","medium","hard","current","fetchData","response","post","count","data","length","Error","err","_err$response","_err$response$data","_err$response2","message","status","calculatePoints","handleAnswer","questionId","selectedOption","prev","handleSubmit","unansweredCount","Object","keys","warning","totalScore","newStats","formattedAnswers","map","question","isCorrect","_id","correctOption","points","answers","success","console","getDifficultyColor","getOptionStyle","optionValue","category","charAt","toUpperCase","slice","entries","diff","stat","index","text","options","option","optionIndex","disabled","_c2","$RefreshReg$"],"sources":["E:/New folder/Quiz-Management-system/Quiz-Management-System/frontend/src/pages/player/Quiz.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\nimport {\r\n  Link,\r\n  useLocation,\r\n  useNavigate,\r\n  useParams,\r\n  useSearchParams,\r\n} from 'react-router-dom'\r\nimport axios from '../../utils/axiosConfig'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { toast } from 'react-toastify'\r\n\r\n// ✅ Internal Navbar Component (with disable logic)\r\nfunction Navbar({ disableNav }) {\r\n  const { user, logout } = useAuth()\r\n  const navigate = useNavigate()\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    navigate('/login')\r\n  }\r\n\r\n  const handleNavClick = (e, to) => {\r\n    if (disableNav) {\r\n      e.preventDefault()\r\n      alert('You cannot navigate away during the quiz.')\r\n    } else {\r\n      navigate(to)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nav className=\"bg-purple-700 text-white shadow-md\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"flex justify-between items-center py-4\">\r\n          <div className=\"flex items-center\">\r\n            <Link\r\n              to={\r\n                user?.role === 'admin'\r\n                  ? '/admin/dashboard'\r\n                  : '/player/dashboard'\r\n              }\r\n              onClick={(e) =>\r\n                handleNavClick(\r\n                  e,\r\n                  user?.role === 'admin'\r\n                    ? '/admin/dashboard'\r\n                    : '/player/dashboard'\r\n                )\r\n              }\r\n              className=\"text-xl font-bold\"\r\n            >\r\n              Quiz Game\r\n            </Link>\r\n          </div>\r\n\r\n          {user && (\r\n            <div className=\"flex items-center space-x-6\">\r\n              {user.role === 'player' ? (\r\n                <>\r\n                  <Link\r\n                    to=\"/player/dashboard\"\r\n                    onClick={(e) => handleNavClick(e, '/player/dashboard')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    Dashboard\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/player/history\"\r\n                    onClick={(e) => handleNavClick(e, '/player/history')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    My History\r\n                  </Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link\r\n                    to=\"/admin/dashboard\"\r\n                    onClick={(e) => handleNavClick(e, '/admin/dashboard')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    Dashboard\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/admin/questions\"\r\n                    onClick={(e) => handleNavClick(e, '/admin/questions')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    Questions\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/admin/leaderboard\"\r\n                    onClick={(e) => handleNavClick(e, '/admin/leaderboard')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    Leaderboard\r\n                  </Link>\r\n                  <Link\r\n                    to=\"/admin/players\"\r\n                    onClick={(e) => handleNavClick(e, '/admin/players')}\r\n                    className=\"hover:text-purple-200\"\r\n                  >\r\n                    Players\r\n                  </Link>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-sm\">{user.name}</span>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"bg-purple-800 hover:bg-purple-900 text-white text-sm py-1 px-3 rounded\"\r\n                >\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nfunction Quiz() {\r\n  const { categoryId } = useParams()\r\n  const [searchParams] = useSearchParams()\r\n  const difficulty = searchParams.get('difficulty') || 'medium'\r\n  const navigate = useNavigate()\r\n  const { user } = useAuth()\r\n  const mounted = useRef(true)\r\n\r\n  const [questions, setQuestions] = useState([])\r\n  const [userAnswers, setUserAnswers] = useState({})\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState('')\r\n  const [quizSubmitted, setQuizSubmitted] = useState(false)\r\n  const [score, setScore] = useState(0)\r\n  const [stats, setStats] = useState({\r\n    easy: { correct: 0, total: 0 },\r\n    medium: { correct: 0, total: 0 },\r\n    hard: { correct: 0, total: 0 },\r\n  })\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      mounted.current = false\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!categoryId || !user) {\r\n      navigate('/player/dashboard')\r\n      return\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const response = await axios.post(`/api/quiz/questions`, {\r\n          categoryId,\r\n          difficulty,\r\n          count: 10,\r\n        })\r\n\r\n        if (!mounted.current) return\r\n\r\n        if (!response.data || response.data.length === 0) {\r\n          throw new Error(\r\n            'No questions available for this category and difficulty'\r\n          )\r\n        }\r\n\r\n        setQuestions(response.data)\r\n        setError('')\r\n      } catch (err) {\r\n        if (!mounted.current) return\r\n        const message = err.response?.data?.message || err.message\r\n        setError(message)\r\n        toast.error(message)\r\n        if (err.response?.status === 401) {\r\n          navigate('/login')\r\n        } else {\r\n          navigate('/player/dashboard')\r\n        }\r\n      } finally {\r\n        if (mounted.current) {\r\n          setLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [categoryId, difficulty, navigate, user])\r\n\r\n  const calculatePoints = (difficulty) => {\r\n    switch (difficulty) {\r\n      case 'easy':\r\n        return 1\r\n      case 'medium':\r\n        return 2\r\n      case 'hard':\r\n        return 3\r\n      default:\r\n        return 1\r\n    }\r\n  }\r\n\r\n  const handleAnswer = (questionId, selectedOption) => {\r\n    setUserAnswers((prev) => ({\r\n      ...prev,\r\n      [questionId]: selectedOption,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    // Check if all questions are answered\r\n    const unansweredCount = questions.length - Object.keys(userAnswers).length\r\n    if (unansweredCount > 0) {\r\n      toast.warning(\r\n        `Please answer all questions. ${unansweredCount} remaining.`\r\n      )\r\n      return\r\n    }\r\n\r\n    try {\r\n      // Calculate score and stats\r\n      let totalScore = 0\r\n      const newStats = {\r\n        easy: { correct: 0, total: 0 },\r\n        medium: { correct: 0, total: 0 },\r\n        hard: { correct: 0, total: 0 },\r\n      }\r\n\r\n      const formattedAnswers = questions.map((question) => {\r\n        const isCorrect = userAnswers[question._id] === question.correctOption\r\n        const points = isCorrect ? calculatePoints(question.difficulty) : 0\r\n        totalScore += points\r\n\r\n        // Update stats\r\n        newStats[question.difficulty].total += 1\r\n        if (isCorrect) {\r\n          newStats[question.difficulty].correct += 1\r\n        }\r\n\r\n        return {\r\n          questionId: question._id,\r\n          selectedOption: userAnswers[question._id],\r\n          isCorrect,\r\n          points,\r\n          difficulty: question.difficulty,\r\n        }\r\n      })\r\n\r\n      // Submit to backend\r\n      await axios.post('/api/quiz/submit', {\r\n        categoryId,\r\n        answers: formattedAnswers,\r\n        score: totalScore,\r\n        stats: newStats,\r\n      })\r\n\r\n      setScore(totalScore)\r\n      setStats(newStats)\r\n      setQuizSubmitted(true)\r\n      toast.success('Quiz submitted successfully!')\r\n    } catch (error) {\r\n      toast.error('Failed to submit quiz. Please try again.')\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  const getDifficultyColor = (difficulty) => {\r\n    switch (difficulty) {\r\n      case 'easy':\r\n        return 'text-green-600'\r\n      case 'medium':\r\n        return 'text-yellow-600'\r\n      case 'hard':\r\n        return 'text-red-600'\r\n      default:\r\n        return 'text-gray-600'\r\n    }\r\n  }\r\n\r\n  const getOptionStyle = (question, optionValue) => {\r\n    if (!quizSubmitted) {\r\n      return userAnswers[question._id] === optionValue\r\n        ? 'bg-blue-100 border-blue-500'\r\n        : 'hover:bg-gray-50'\r\n    }\r\n\r\n    if (question.correctOption === optionValue) {\r\n      return 'bg-green-100 border-green-500'\r\n    }\r\n    if (userAnswers[question._id] === optionValue) {\r\n      return question.correctOption === optionValue\r\n        ? 'bg-green-100 border-green-500'\r\n        : 'bg-red-100 border-red-500'\r\n    }\r\n    return ''\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100\">\r\n        <Navbar disableNav={true} />\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"text-center\">Loading questions...</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100\">\r\n        <Navbar disableNav={true} />\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      <Navbar disableNav={!quizSubmitted} />\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">\r\n              Quiz - {questions[0]?.category?.name}\r\n            </h1>\r\n            <span className={`font-semibold ${getDifficultyColor(difficulty)}`}>\r\n              {difficulty.charAt(0).toUpperCase() + difficulty.slice(1)}\r\n            </span>\r\n          </div>\r\n\r\n          {quizSubmitted && (\r\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n              <h2 className=\"text-xl font-bold mb-2\">Quiz Results</h2>\r\n              <p className=\"text-lg\">Total Score: {score}</p>\r\n              <div className=\"mt-2\">\r\n                {Object.entries(stats).map(([diff, stat]) => (\r\n                  <p key={diff} className={`${getDifficultyColor(diff)}`}>\r\n                    {diff.charAt(0).toUpperCase() + diff.slice(1)}:{' '}\r\n                    {stat.correct}/{stat.total} correct\r\n                  </p>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-6\">\r\n            {questions.map((question, index) => (\r\n              <div\r\n                key={question._id}\r\n                className=\"p-4 border rounded-lg hover:shadow-sm transition-shadow\"\r\n              >\r\n                <p className=\"text-lg font-medium mb-4\">\r\n                  {index + 1}. {question.text}\r\n                </p>\r\n                <div className=\"space-y-2\">\r\n                  {question.options.map((option, optionIndex) => (\r\n                    <button\r\n                      key={optionIndex}\r\n                      onClick={() =>\r\n                        !quizSubmitted && handleAnswer(question._id, option)\r\n                      }\r\n                      className={`w-full text-left p-3 border rounded-md transition-colors ${getOptionStyle(\r\n                        question,\r\n                        option\r\n                      )}`}\r\n                      disabled={quizSubmitted}\r\n                    >\r\n                      {option}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {!quizSubmitted && (\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={handleSubmit}\r\n                className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Submit Quiz\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {quizSubmitted && (\r\n            <div className=\"mt-6\">\r\n              <button\r\n                onClick={() => navigate('/player/dashboard')}\r\n                className=\"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors\"\r\n              >\r\n                Back to Dashboard\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Quiz\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}